<main class="container-fluid-padding">

  <div class="row border-bottom pb-3">
    <div class="search-filter__header col-12">
      <div>
        <h5 class="d-inline-block">Keyword Search</h5>
        <i
          class="keyword-help material-icons grey-subtext_no-italics d-inline-block align-text-bottom ml-2"
          matTooltip="Summary, description, location, and issued to name fields"
          aria-label="Icon that displays a tooltip when focused or hovered over">
          help_outline
        </i>
      </div>
      <div class="keyword-search mb-3">
        <input
          class="keyword-search__input py-0 px-2 border-0"
          (keyup.enter)="keywordSearch()"
          placeholder="Type keyword search words..."
          [(ngModel)]="keywordSearchWords" />
        <button (click)="keywordSearch()" class="keyword-search__button border-0">
          <i class="material-icons align-middle">search</i>
        </button>
      </div>
      <button
        [hidden]="showAdvancedFilters"
        class="advanced-filters-btn btn btn-primary float-right"
        (click)="toggleAdvancedFilters()">
        Open Advanced Filters
      </button>
      <button
        [hidden]="!showAdvancedFilters"
        class="advanced-filters-btn btn btn-primary float-right"
        (click)="toggleAdvancedFilters()">
        Close Advanced Filters
      </button>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12 mb-3" [hidden]="!showAdvancedFilters">
      <app-explore-panel
        #explorePanel
        [filterSections]="filters"
        (updateFilters)="filterChange($event)"></app-explore-panel>
    </div>
  </div>

  <div class="row mt-3 mb-3">
    <div class="col-6"></div>
    <div class="col-6 text-right">
      <div ngbDropdown class="">
        <button class="btn btn-primary" ngbDropdownToggle>
          Add Record
        </button>
        <div ngbDropdownMenu>
          <button ngbDropdownItem (click)="add('administrativePenalty')">Administrative Penalty</button>
          <button ngbDropdownItem (click)="add('administrativeSanction')">Administrative Sanction</button>
          <button ngbDropdownItem (click)="add('agreement')">Agreement</button>
          <button ngbDropdownItem (click)="add('certificate')">Certificate</button>
          <button ngbDropdownItem (click)="add('constructionPlan')">Construction Plan</button>
          <button ngbDropdownItem (click)="add('courtConviction')">Court Conviction</button>
          <button ngbDropdownItem (click)="add('inspection')">Inspection</button>
          <button ngbDropdownItem (click)="add('managementPlan')">Management Plan</button>
          <button ngbDropdownItem (click)="add('order')">Order</button>
          <button ngbDropdownItem (click)="add('permit')">Permit</button>
          <button ngbDropdownItem (click)="add('restorativeJustice')">Restorative Justice</button>
          <button ngbDropdownItem (click)="add('selfReport')">Compliance Self-Report</button>
          <button ngbDropdownItem (click)="add('ticket')">Ticket</button>
          <button ngbDropdownItem (click)="add('warning')">Warning</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && tableData.totalListItems === 0">
    No Records found.
  </div>

  <lib-table-template
    *ngIf="!loading && tableData.totalListItems != 0"
    [data]="tableData"
    (messageOut)="onMessageOut($event)"></lib-table-template>
</main>